# Government Contract Data Generation

This folder contains Python scripts for generating comprehensive fictional government contract project data with LLM enhancement.

## Files

- `generate_project_data.py` - Main data generation script with OpenAI LLM integration
- `format_for_rag.py` - Formats generated data for RAG indexing in Azure Cognitive Search
- `requirements.txt` - Python dependencies
- `.env.sample` - Sample environment configuration file
- `README.md` - This file

## Setup

### 1. Install Dependencies

```bash
pip install -r requirements.txt
```

### 2. Configure Environment

1. Copy `.env.sample` to `.env`:
   ```bash
   cp .env.sample .env
   ```

2. Edit `.env` and fill in your Azure OpenAI credentials:
   ```
   REACT_APP_OPENAI_ENDPOINT=https://your-openai-service.openai.azure.com/
   REACT_APP_OPENAI_API_KEY=your-actual-api-key
   REACT_APP_OPENAI_DEPLOYMENT=gpt-4o
   ```

### 3. Run Data Generation

```bash
python generate_project_data.py
```

This will:
- Generate 10 projects matching your React app's project definitions
- Create realistic names, company names, and descriptions using LLM
- Generate comprehensive financial data, WBS structures, and personnel assignments
- Save data in multiple formats (JSON, CSV) in the `generated_project_data/` folder

### 4. Format for RAG (Optional)

```bash
python format_for_rag.py
```

This will:
- Convert the generated data into RAG-optimized documents
- Create searchable documents suitable for Azure Cognitive Search
- Save formatted documents in the `rag_documents/` folder

## Generated Data Structure

The script creates data for these predefined projects:

1. **PROJ-001** - Defense Communications System (WBS-001)
2. **PROJ-002** - Infrastructure Modernization (WBS-002)
3. **PROJ-003** - Cybersecurity Enhancement (WBS-003)
4. **PROJ-004** - Logistics Management System (WBS-004)
5. **PROJ-005** - Training Platform Development (WBS-005)
6. **PROJ-006** - Data Analytics Platform (WBS-006)
7. **PROJ-007** - Emergency Response System (WBS-007)
8. **PROJ-008** - Fleet Management Upgrade (WBS-008)
9. **PROJ-009** - Facility Security Enhancement (WBS-009)
10. **PROJ-010** - Network Infrastructure Upgrade (WBS-010)

### Output Files

#### Individual Project Files
- `projects/PROJ-XXX_info.json` - Project information and metadata
- `projects/PROJ-XXX_wbs.json` - Work breakdown structure
- `personnel/PROJ-XXX_personnel.json` - Personnel assignments
- `financials/PROJ-XXX_spend_plan.json` - Spending plans
- `financials/PROJ-XXX_actuals.json` - Actual expenditures
- `reports/PROJ-XXX_analysis.json` - Financial analysis

#### Consolidated Files
- `all_projects.json` - All project information
- `all_personnel.json` - All personnel assignments
- `all_spend_plans.json` - All spending plans
- `all_actuals.json` - All actual expenditures
- `all_wbs.json` - All WBS items
- `all_analyses.json` - All financial analyses

#### CSV Files (for database import)
- `projects.csv`
- `personnel.csv`
- `spend_plans.csv`
- `actuals.csv`
- `wbs.csv`

## LLM Enhancement Features

The script uses OpenAI's GPT model to generate:

### Realistic Names
- Government employee names with diverse backgrounds
- Contractor company names (technology, consulting, defense)

### Project Descriptions
- Detailed, professional descriptions for each project
- Technical specifications and objectives
- Expected outcomes and deliverables

### Milestone Descriptions
- Specific, measurable milestone names
- Project-appropriate terminology

### Risk Explanations
- Detailed explanations for schedule, budget, and technical risks
- Context-appropriate risk assessments

## Configuration Options

### Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `REACT_APP_OPENAI_ENDPOINT` | Azure OpenAI endpoint URL | Required |
| `REACT_APP_OPENAI_API_KEY` | Azure OpenAI API key | Required |
| `REACT_APP_OPENAI_DEPLOYMENT` | OpenAI model deployment name | Required |

### Script Configuration

Edit these constants in `generate_project_data.py`:

```python
NUM_PROJECTS = 10  # Number of projects to generate
OUTPUT_DIR = "generated_project_data"  # Output directory
START_DATE = datetime(2022, 1, 1)  # Project start date range
END_DATE = datetime(2026, 12, 31)  # Project end date range
```

## Data Quality Features

### Financial Realism
- Appropriate budget ranges based on project type
- Realistic variance patterns between planned and actual spending
- Proper financial relationships (committed > obligated > expended)

### Project-Specific Content
- Custom WBS phases based on project type
- Appropriate budget ranges for each project category
- Realistic timelines and resource allocations

### Personnel Assignments
- Diverse, realistic names generated by LLM
- Appropriate labor categories and rates
- Security clearance distributions
- Realistic FTE assignments

## Usage Notes

1. **API Rate Limits**: The script includes error handling for LLM API calls and falls back to generic content if API calls fail.

2. **Caching**: Generated names and company names are cached to reduce API calls and improve consistency.

3. **Customization**: Modify the `APP_PROJECTS` list to match your specific project requirements.

4. **Data Consistency**: All generated data maintains referential integrity across related tables.

## Troubleshooting

### Common Issues

1. **OpenAI API Errors**: Check your API key and endpoint configuration in `.env`
2. **Missing Dependencies**: Run `pip install -r requirements.txt`
3. **Permission Errors**: Ensure write permissions for output directories

### Error Handling

The script includes comprehensive error handling:
- LLM API failures fall back to generic content
- Missing environment variables are handled gracefully
- File I/O errors are caught and reported

## Next Steps

After generating the data:

1. **Import to Azure Cognitive Search**: Use the RAG-formatted documents
2. **Test Your App**: The generated project IDs match your React app's dropdown
3. **Validate Data**: Review generated content for accuracy and completeness
4. **Customize**: Modify the generation logic for your specific needs
