# Development Environment Variables
FLASK_ENV=development
FLASK_DEBUG=True

# MCP Server Configuration
MCP_SERVER_NAME=PythonAPI_MCP_Server
MCP_SERVER_PORT=3001
MCP_MOUNT_PATH=/mcp

# API Configuration
API_HOST=localhost
API_PORT=5007

# Unified Agent System Configuration
# Base URL for all agents running as routes on the same API
API_BASE_URL=http://localhost:5007

# Research Configuration
# Time limit per research round in seconds (default: 240 = 4 minutes)
# If a research round exceeds this time, it will auto-pause and provide a summary
RESEARCH_ROUND_TIME_LIMIT_SECONDS=240

# Logging
LOG_LEVEL=DEBUG
REDUCE_LOG_VERBOSITY=true
QUIET_MODE=false
SUPPRESS_AZURE_LOGS=true
SUPPRESS_SEMANTIC_KERNEL_LOGS=false

AZURE_OPENAI_ENDPOINT=https://rudeaoai-gov.openai.azure.us/
# Azure OpenAI API Key (required)
# You can find this in the Azure portal under your OpenAI resource
AZURE_OPENAI_API_KEY=
# Azure OpenAI Deployment Name (required)
# This is the name you gave to your model deployment in Azure
AZURE_OPENAI_DEPLOYMENT=gpt-4o
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002

# Azure Data Explorer Configuration
ADX_CLUSTER_URL=https://chat-adx.usgovvirginia.kusto.usgovcloudapi.net

# Azure Cosmos DB Configuration
AZURE_COSMOS_DB_ENDPOINT=https://chat-db.documents.azure.us:443/
AZURE_COSMOS_DB_KEY=
AZURE_COSMOS_DB_DATABASE=ChatDatabase
AZURE_COSMOS_DB_SESSIONS_CONTAINER=Sessions
AZURE_COSMOS_DB_MESSAGES_CONTAINER=Messages

# Azure Blob Storage Configuration
AZURE_STORAGE_ACCOUNT_NAME=rudechatstore
AZURE_STORAGE_CONNECTION_STRING=
AZURE_STORAGE_CONTAINER_NAME=documents

# Azure AI Search Configuration
AZURE_SEARCH_ENDPOINT=https://rude-search.search.azure.us
AZURE_SEARCH_KEY=
AZURE_SEARCH_INDEX_NAME=documents-index

# Fictional Companies API Configuration
FICTIONAL_COMPANIES_API_URL=https://fictionalapi-dudaf9gnarcxb3fb.eastus2-01.azurewebsites.net/

APPLICATIONINSIGHTS_CONNECTION_STRING=

 
# ===========================================
# MCP SERVER SETTINGS
# ===========================================
#CAUTION: the deployed version seems to require NO /...fix in app service environment for each agent APP Service
#MCP_SERVER_ENDPOINT=https://rude-mcp.azurewebsites.us/mcp
MCP_SERVER_ENDPOINT=http://localhost:8000/mcp/

# ===========================================
# UNIFIED AGENT DEPLOYMENT
# ===========================================
# All agents now run on the same application at different routes:
# - /agents/document - Document Agent
# - /agents/adx - ADX Agent  
# - /agents/investigator - Investigator Agent
# - /agents/fictionalcompanies - Fictional Companies Agent
#
# For local development, agents are available at:
API_BASE_URL=http://localhost:8000
#
# For production deployment, set to your deployed app service URL:
# API_BASE_URL=https://your-app.azurewebsites.us
#
# DEPRECATED: Individual agent URLs are no longer needed
# (kept for backward compatibility but not used)
# DOCUMENT_AGENT_URL=http://localhost:18081
# ADX_AGENT_URL=http://localhost:18082
# INVESTIGATOR_AGENT_URL=http://localhost:18083
# FICTIONAL_COMPANIES_AGENT_URL=http://localhost:18084


# ====================================
# MULTI-AGENT SYSTEM TOKEN CONFIGURATION
# ====================================
# 
# This file contains token limit settings for the multi-agent system.
# Adjust these values based on your needs and Azure OpenAI model limits.
# 
# Current settings are optimized for GPT-4o (128K token limit)

# üîí AGENT RESPONSE TOKEN LIMITS
# These control the maximum tokens each agent can generate per response
MATH_AGENT_MAX_TOKENS=4000
UTILITY_AGENT_MAX_TOKENS=2000
ADX_AGENT_MAX_TOKENS=8000
DOCUMENT_AGENT_MAX_TOKENS=6000
FICTIONAL_COMPANIES_AGENT_MAX_TOKENS=5000
COORDINATOR_AGENT_MAX_TOKENS=10000

# üå°Ô∏è AGENT TEMPERATURE SETTINGS
# Lower values = more deterministic, Higher values = more creative
MATH_AGENT_TEMPERATURE=0.1
UTILITY_AGENT_TEMPERATURE=0.0
ADX_AGENT_TEMPERATURE=0.1
DOCUMENT_AGENT_TEMPERATURE=0.2
FICTIONAL_COMPANIES_AGENT_TEMPERATURE=0.1
COORDINATOR_AGENT_TEMPERATURE=0.3

# üö¶ GLOBAL TOKEN LIMITS
# Overall system token management
MAX_CONTEXT_TOKENS=120000
SAFE_RESPONSE_BUFFER=8000
SYNTHESIS_MAX_TOKENS=12000
EMERGENCY_TRUNCATION_LIMIT=50000

# üõ°Ô∏è OVERFLOW PROTECTION
# Automatic protection settings
ENABLE_AUTOMATIC_TRUNCATION=true
TRUNCATION_STRATEGY=preserve_recent
EMERGENCY_FALLBACK=true
WARNING_THRESHOLD=0.85
CRITICAL_THRESHOLD=0.95

# üìä MONITORING AND ALERTING
# Token usage monitoring
LOG_TOKEN_USAGE=true
ALERT_ON_HIGH_USAGE=true
TRACK_AGENT_EFFICIENCY=true
ENABLE_USAGE_ANALYTICS=true

# üîß ADVANCED SETTINGS
# Fine-tuning parameters
TOP_P=0.95
FREQUENCY_PENALTY=0.0
PRESENCE_PENALTY=0.0
SYNTHESIS_FREQUENCY_PENALTY=0.1
SYNTHESIS_PRESENCE_PENALTY=0.1
