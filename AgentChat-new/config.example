# Azure Data Explorer Configuration

# Set these environment variables in your Azure App Service

KUSTO_CLUSTER_URL=https://chat-adx.usgovvirginia.kusto.usgovcloudapi.net

KUSTO_DEFAULT_DATABASE=Personnel
 
# Fictional Companies API Configuration

FICTIONAL_COMPANIES_API_URL=https://fictionalapi-dudaf9gnarcxb3fb.eastus2-01.azurewebsites.net/
 
# Azure AI Search Configuration

AZURE_SEARCH_ENDPOINT=https://rude-search.search.azure.us

AZURE_SEARCH_INDEX_NAME=documents-index

AZURE_SEARCH_KEY=
 
#RAG tools settings

RAG_SEARCH_ENDPOINT=https://rude-search.search.azure.us

RAG_SEARCH_KEY=

RAG_SEARCH_INDEX_NAME=rag-1756401135045

RAG_CONTENT_FIELD=chunk

RAG_VECTOR_FIELD=text_vector
 
 
#RAG_SEARCH_ENDPOINT=https://rude-s3-search.search.azure.us

# Your target index name (created via portal wizard)

#RAG_SEARCH_INDEX_NAME=s3-index

# Admin or data key for simplicity in this sample (or omit if you wire up Entra ID separately)

#RAG_SEARCH_KEY=
 
 
 
#RAG AOAI settings

AZURE_OPENAI_ENDPOINT=https://rudeaoai-gov.openai.azure.us/

AZURE_OPENAI_API_KEY=

AZURE_OPENAI_CHAT_DEPLOYMENT=gpt-4o

AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002
 
# Optional: RAG blob container name for URL construction fallback

RAG_STORAGE_CONTAINER_NAME=fema
 
# Azure Blob Storage Configuration  

AZURE_STORAGE_ACCOUNT_NAME=rudechatstore

AZURE_STORAGE_ENDPOINT_SUFFIX=core.usgovcloudapi.net

AZURE_STORAGE_CONTAINER_NAME=documents

AZURE_STORAGE_CONNECTION_STRING=
 
# Logging Configuration

LOG_LEVEL=INFO
 
# Server Configuration

MCP_SERVER_NAME=Rude MCP Server

MCP_SERVER_VERSION=1.0.0

MCP_SERVER_DESCRIPTION=A FastMCP server providing Math tools and Azure Data Explorer integration

# Azure AD Application Configuration (required for OBO flow)

# Get these values from your Azure AD App Registration

AZURE_TENANT_ID=03f141f3-496d-4319-bbea-a3e9286cab10

AZURE_CLIENT_ID=5e9822c5-f870-4acb-b2e6-1852254d9cbb

AZURE_CLIENT_SECRET=
 
# Azure Government Cloud Configuration

AZURE_AUTHORITY_HOST=https://login.microsoftonline.us
 
# OBO Scope for Azure Data Explorer (Azure Government)

OBO_SCOPE=https://kusto.kusto.usgovcloudapi.net/.default
 
# MCP OAuth 2.1 Configuration for Third-Party Clients

# Enable MCP OAuth authentication (required for Claude, Copilot, etc.)

MCP_OAUTH_ENABLED=true
 
# MCP API Audience - what clients request tokens for (NOT the ADX audience)

# This should be the Application ID URI you expose in your Azure AD app

MCP_API_AUDIENCE=api://5e9822c5-f870-4acb-b2e6-1852254d9cbb
 
# MCP API Scope - the specific scope exposed in Azure AD

MCP_API_SCOPE=api://5e9822c5-f870-4acb-b2e6-1852254d9cbb/mcp-access
 
# Security Configuration (for production)

# CORS Configuration

CORS_ENABLED=true

CORS_ORIGINS=*

# For production, use specific origins like:

# CORS_ORIGINS=https://inspector.modelcontextprotocol.org,https://your-client-domain.com
 
USER_ACCESS_CHECK_URL=https://accesschecker.azurewebsites.us/api/user-access

RAG_ALLOWED_PRINCIPALS_FIELD=allowedprincipals
 
